#!/bin/bash
#
# Elanthipedia Archive Configuration
# Source this file before running server scripts
#
# Usage: source server/config/elanthipedia.conf
#

##############
# Core settings
##############
# Wiki identification
export WIKI_ID="elanthipedia"
export WIKI_NAME="Elanthipedia"
export WIKI_DESCRIPTION="DragonRealms Wiki"

# Source wiki (live wiki to archive from)
export SOURCE_WIKI="https://elanthipedia.play.net"
export SOURCE_API="${SOURCE_WIKI}/api.php"

# Archive paths (on VPS)
export WIKI_DIR="/var/www/${WIKI_ID}-archive"
export DOWNLOADS_DIR="${WIKI_DIR}/downloads"

# Database configuration
export DB_NAME="${WIKI_ID}_archive"
export DB_USER="${WIKI_ID}"

# Domain and URLs
export ARCHIVE_DOMAIN="${WIKI_ID}-archive.gs-game.uk"
export ARCHIVE_URL="https://${ARCHIVE_DOMAIN}"

# Static mirror settings
export STATIC_PREFIX="${WIKI_ID}-static"
export STATIC_MAIN_PAGE="Main_Page"

# Rate limiting (be polite to source wiki)
export DELAY_SECONDS=2
export BATCH_SIZE=50

# Archive retention
export KEEP_ARCHIVES=2

# Project namespace aliases (for {{Elanthipedia:...}} transclusions)
PROJECT_NAMESPACE_ALIASES=("Elanthipedia" "elanthipedia")

# Display
echo "Loaded configuration for: ${WIKI_NAME}"
echo "  Source: ${SOURCE_WIKI}"
echo "  Archive: ${ARCHIVE_URL}"

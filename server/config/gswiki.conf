#!/bin/bash
#
# GSWiki Archive Configuration
# Source this file before running server scripts
#
# Usage: source server/config/gswiki.conf
#

# Wiki identification
WIKI_ID="gswiki"
WIKI_NAME="GSWiki"
WIKI_DESCRIPTION="GemStone IV Wiki"

# Source wiki (live wiki to archive from)
SOURCE_WIKI="https://gswiki.play.net"
SOURCE_API="${SOURCE_WIKI}/api.php"

# Archive paths (on VPS)
WIKI_DIR="/var/www/${WIKI_ID}-archive"
DOWNLOADS_DIR="${WIKI_DIR}/downloads"

# Database configuration
DB_NAME="${WIKI_ID}_archive"
DB_USER="${WIKI_ID}"

# Domain and URLs
ARCHIVE_DOMAIN="${WIKI_ID}-archive.gs-game.uk"
ARCHIVE_URL="https://${ARCHIVE_DOMAIN}"

# Static mirror settings
STATIC_PREFIX="${WIKI_ID}-static"
STATIC_MAIN_PAGE="Main_Page"

# Rate limiting (be polite to source wiki)
DELAY_SECONDS=2
BATCH_SIZE=50

# Archive retention
KEEP_ARCHIVES=2

# Namespace configuration
# Skip these namespaces during import (User/Talk pages only)
SKIP_NAMESPACES=("User:" "User_talk:" "Talk:")

# Import these namespaces
# 0=Main, 4=Project, 6=File, 8=MediaWiki, 10=Template, 14=Category
IMPORT_NAMESPACES=("0" "4" "6" "8" "10" "14")

# Project namespace aliases (for {{Gswiki:...}} transclusions)
PROJECT_NAMESPACE_ALIASES=("GSWiki" "Gswiki")

# Display
echo "Loaded configuration for: ${WIKI_NAME}"
echo "  Source: ${SOURCE_WIKI}"
echo "  Archive: ${ARCHIVE_URL}"
